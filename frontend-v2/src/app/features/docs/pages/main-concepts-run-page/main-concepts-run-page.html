<app-base-doc>
  <h1>Experiment Run</h1>
  <p>
    An instance of Experiment Run is created. This instance represents the current state of the
    running (and also finished) Experiment, its logs, metrics and outputs (if any). It is available
    in the Experiment detail page.
  </p>
  <p>
    When you run Experiment multiple times, the instructions sent to the AIoD REANA instance are
    always the same. This means that if the Python script does not contain any source of
    non-determinism, running the Experiment twice will always result in the same results. There are
    many sources of non-determinism, though - for example, if an Experiment Template defines a
    training script that randomly shuffles training data, the model (unless you fix the seeds) will
    always be different.
  </p>

  <!-- ================================================================================================== -->
  <h1>Create Experiment Run = Execute Experiment</h1>
  <p>When you execute an Experiment, following happens:</p>
  <ol>
    <li>An instance of Experiment Run is created.&nbsp;</li>
    <li>
      The Experiment Run is transformed to a Common Workflow Language (CWL) file. This file
      represents the Experiment in the form of a workflow that is executable by AIoD platform
      infrastructure.
    </li>
    <li>
      The CWL file is sent to the AIoD platformâ€™s workflow engine, currently implemented as an
      instance of <a target="_blank" href="https://reanahub.io/">REANA</a> and REANA executes the
      Experiment Run.
    </li>
    <li>
      In REANA, a Docker container is started. AI Assets and environment variables are available
      globally in the container.
    </li>
    <li>
      A file called script.py, which contains the script defined in the Experiment Template, is
      executed.
    </li>
    <li>
      After the Experiment Run finishes, the Docker logs, metrics and output files (if any) are
      available on the details of the Experiment Run.
    </li>
  </ol>

  <p>
    To create an Experiment Run, you basically execute the Experiment. The Experiment Run is created
    and you can monitor its progress in the Experiment or Experiment Run detail page and through
    Experiment Run <code>state</code> property.
  </p>
  <mat-tab-group>
    <mat-tab label="Python SDK">
      <markdown src="assets/docs/markdown/codes/create-and-execute-experiment.md"> </markdown>
    </mat-tab>
    <mat-tab label="Web page"> # Coming soon </mat-tab>
  </mat-tab-group>

  <h2>Properties of Experiment Run</h2>
  <markdown
    src="assets/docs/markdown/experiment-run-properties.md"
    class="fixed-height-scrollable"
  ></markdown>
</app-base-doc>
